<!DOCTYPE html>
<html>
<head>
    <title>Trading Output - Ticker: {{ ticker }}</title>
    <style>
        /* Add your CSS styles here */
        body {
            font-family: Arial, sans-serif;
        }
        
        h1 {
            color: #B9BFFD; /* Change the color to your preference */
        }
        
        p {
            font-size: 18px; /* Change the font size to your preference */
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #ddd;
            
        }
        
        th, td {
            padding: 8px;
            text-align: left;
            border: 1px solid #ddd; /* Single border for all cells */
        }
        
    </style>
</head>
<body>
    <h1>Trading Output</h1>
    <p>Ticker: {{ ticker }}</p>
    <!-- Render the DataFrame as an HTML table -->
    <table>
        {{ dataframe | safe }}
    </table>
    
<script>
    // JavaScript to shade header cells and numeric cells and replace NaN with empty cell
    const rows = document.querySelectorAll('tr');
    rows.forEach((row, rowIndex) => {
        const cells = row.querySelectorAll('td');
        cells.forEach((cell, cellIndex) => {
            const content = cell.textContent.trim();
            if (rowIndex === 0) {
                cell.classList.add('header-cell');
            } else if (!isNaN(content) && content !== '') {
                cell.classList.add('numeric-cell');
                
                if (cellIndex === 6 || cellIndex === 7) {
                    cell.style.backgroundColor = '#dd84fa';
                } else if (cellIndex === 8 || cellIndex === 9) {
                    cell.style.backgroundColor = '#cd3dfc';
                } else if (cellIndex === 1) {
                    cell.style.backgroundColor = '#ffffff';
                } else if (cellIndex === 2 || cellIndex === 3) {
                    cell.style.backgroundColor = '#ebd7fc';
                } else {
                    cell.style.backgroundColor = '#edb0ff';
                }
            } else if (content === 'NaN') {
                cell.style.backgroundColor = '#ffedfc';
                cell.textContent = ''; // Replace 'NaN' with empty cells
            } else {
                cell.style.backgroundColor = '#ffedfc';
            }
        });
    });
</script>


</body>    
</html>

